<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata&display=swap/css?family=NanumSquare:300,300italic,400,400italic,700,700italic|Inconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://sokhyg9016.github.io').hostname,
    root: '/',
    scheme: 'Mist',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","width":320,"display":"hide","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"flat"},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="Csci343 Challenge 2 Test">
<meta property="og:type" content="article">
<meta property="og:title" content="Sentiment Analysis">
<meta property="og:url" content="http://sokhyg9016.github.io/2020/02/28/2020-02-26-csci343-challenge2/index.html">
<meta property="og:site_name" content="Git Page">
<meta property="og:description" content="Csci343 Challenge 2 Test">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="http://www.programmersought.com/images/262/05e075183140efc5c169148cd2abbe5e.png">
<meta property="article:published_time" content="2020-02-27T15:00:00.000Z">
<meta property="article:modified_time" content="2020-03-16T15:00:00.000Z">
<meta property="article:author" content="LSH">
<meta property="article:tag" content="CSCI 343">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.programmersought.com/images/262/05e075183140efc5c169148cd2abbe5e.png">

<link rel="canonical" href="http://sokhyg9016.github.io/2020/02/28/2020-02-26-csci343-challenge2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>Sentiment Analysis | Git Page</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <!-- Add jquery MY-SELF.-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Git Page</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">AI · Data Structure · Algorithm · Game Development</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>홈</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>태그</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>카테고리</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>아카이브</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>검색
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="ko">
    <link itemprop="mainEntityOfPage" href="http://sokhyg9016.github.io/2020/02/28/2020-02-26-csci343-challenge2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/img/avatar.png">
      <meta itemprop="name" content="LSH">
      <meta itemprop="description" content="Github + 뻘글 블로그.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Git Page">
    </span>
      <div>
        
        <a href="/tags/CSCI-343/" rel="tag" style = "border-bottom: none; background: none; color: orange; font-weight: bold; font-size: 1.1em; padding: 0;">CSCI 343</a>
      </div>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Sentiment Analysis
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              <time title="Post created: 2020-02-28 00:00:00" itemprop="dateCreated datePublished" datetime="2020-02-28T00:00:00+09:00">2020-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Updated at: 2020-03-17 00:00:00" itemprop="dateModified" datetime="2020-03-17T00:00:00+09:00">2020-03-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Olemiss/" itemprop="url" rel="index">
                    <span itemprop="name">Olemiss</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Olemiss/CSCI-343/" itemprop="url" rel="index">
                    <span itemprop="name">CSCI 343</span>
                  </a>
                </span>
            </span>

          
            <!--<div class="post-description">Csci343 Challenge 2 Test</div>-->

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"<hr>
<h2 id="Objective"><a href="#Objective" class="headerlink" title="Objective"></a>Objective</h2><ul>
<li>Implement basic sentiment analysis</li>
<li>Familiarize yourself with MatPlotLib by visualizing your results</li>
</ul>
<h2 id="Assignment"><a href="#Assignment" class="headerlink" title="Assignment"></a>Assignment</h2><p>당신은 텔레비전 방송국의 시범부와 계약하였습니다. 그들은 무엇이 TV 시리즈를 히트시키거나 빗나가게 하는지를 결정하기 위해 데이터 과학을 사용하는 텔레비전의 최첨단 기술에 관심이 있습니다.</p>
<p><a href="http://www.programmersought.com/images/262/05e075183140efc5c169148cd2abbe5e.png" target="_blank" rel="noopener" title="Netflix recommendation system" class="gallery-item"><img src="http://www.programmersought.com/images/262/05e075183140efc5c169148cd2abbe5e.png" alt="Netflix recommendation system"></a></p>
<p>그들은 더 행복하고, 더 긍정적으로 쓰여진 대본이 더 많은 시청자들을 끌어들인다는 가설을 세웠습니다. 데이터 과학자인 당신은 회의적이어서 두 개의 TV 시리즈에 나오는 대본의 평균 감정 점수(average sentiment scores)를 비교함으로써 그들의 가설을 시험하기로 결정했습니다.</p>
<p>한 TV 시리즈는 어느 정도 인기가 있는 수준이었으며(A시리즈) 다른 한 편은 인기가 엄청난 수준이었습니다(B시리즈). 이 데이터를 이용해 그들의 가설을 뒷받침할 수 있는지의 여부를 결정해 봅시다!</p>
<p>당신은 자료의 말뭉치를 제공받았습니다. 구체적으로는 각 TV시리즈의 첫 시즌부터 각 에피소드의 대본을 방송국에서 제공하였습니다. 이 대본들은 시리즈 A의 경우 <code>a##script.txt</code>와 시리즈 B의 경우 <code>b##script.txt</code> 형식의 이름을 가진 텍스트 파일로 주어졌습니다. 당신은 제공된 감정 어휘(sentiment lexicon)를 사용하여 이 대본에 사용된 문구의 정서를 분석해야 합니다.</p>
<h3 id="DATA"><a href="#DATA" class="headerlink" title="DATA"></a>DATA</h3><ol>
<li>데이터는 강의 자료 웹사이트에서 스탠포드 대학의 자연어 처리 그룹에 있는 사람들의 노력에 근거한 감정 어휘(sentiment lexicon)가 제공됩니다.</li>
<li>이 데이터는 첫 번째 열에 단어와 두 번째 열에 그 단어들의 감정 점수( sentiment scores)가  있는 CSV 파일입니다.</li>
<li>감정 점수는 -1.0에서 +1.0 (부정적 감정에서 긍정적 감정까지)까지 입니다..</li>
</ol>
<p><strong>E.g.</strong></p>
<table>
<thead>
<tr>
<th align="left">word</th>
<th align="left">sentiment score (-1.0 ~ 1.0)</th>
</tr>
</thead>
<tbody><tr>
<td align="left">secondly</td>
<td align="left">-0.062</td>
</tr>
<tr>
<td align="left">downvoting</td>
<td align="left">-0.17</td>
</tr>
<tr>
<td align="left">infographics</td>
<td align="left">0.272</td>
</tr>
<tr>
<td align="left">limited</td>
<td align="left">0.068</td>
</tr>
<tr>
<td align="left">child</td>
<td align="left">-0.056</td>
</tr>
<tr>
<td align="left">…</td>
<td align="left">…</td>
</tr>
</tbody></table>
<h3 id="Summary-amp-Tip"><a href="#Summary-amp-Tip" class="headerlink" title="Summary &amp; Tip"></a>Summary &amp; Tip</h3><p>즉 이번 과제는 감정 분석을 이용하여 Challenge 2 데이터 파일을 분석하는 것입니다.</p>
<ol>
<li>당신은 먼저 각 대본에 있는 모든 각 단어들의 목록을 만들고 각각의 단어들이 개수를 세야 할 필요가 있습니다.</li>
<li>감성 어휘를 사용하여, 당신은 그 단어들 중 몇 개가 긍정적이거나 부정적인 감정을 가지고 있는지를 결정할 필요가 있습니다.</li>
<li>일반적으로 중립적인(Neutral) 단어는 극적으로 양극화된 단어보다 훨씬 더 자주 나타납니다.</li>
<li>이와 같이, 이 데이터를 $log_{10}Y$ 축 단위로 시각화하는 것이 최선일 것입니다.</li>
<li>그런 다음 아래와 같은 단어의 수를 나타내는 <code>MatPlotLib</code>를 사용하여 히스토그램을 표시해야 합니다.</li>
</ol>
<table>
<thead>
<tr>
<th>Sentiment</th>
<th>$log$ Word Count</th>
</tr>
</thead>
<tbody><tr>
<td>Negative</td>
<td>$[-1.0, -0.6)$</td>
</tr>
<tr>
<td>Weakly Negative</td>
<td>$[-0.6, -0.2)$</td>
</tr>
<tr>
<td>Neutral</td>
<td>$[-0.2, -0.2]$</td>
</tr>
<tr>
<td>Weakly Positive</td>
<td>$(-0.2, 0.6]$</td>
</tr>
<tr>
<td>Positive</td>
<td>$(0.6, 1.0]$</td>
</tr>
</tbody></table>
<h3 id="NOTE"><a href="#NOTE" class="headerlink" title="NOTE"></a>NOTE</h3><ol>
<li>플롯 형식이 포함된 샘플 및 제목과 일치하는지 확인하십시오.</li>
<li>프로그램 실행 시 표시할 영상 시리즈의 이름을 입력하라는 메시지가 표시되어야 합니다. (PDF 참조)</li>
</ol>
<div class="pdf" target="../../../../pdf/Csci343/ch2/Challenge_2.pdf" height=""></div>

<hr>
<h2 id="Solutions"><a href="#Solutions" class="headerlink" title="Solutions"></a>Solutions</h2><p>I solved the challenge mainly using the <code>pandas</code>, <code>numpy</code>, <code>re</code>.</p>
<div class="tabs" id="fourth-unique-name"><ul class="nav-tabs"><li class="tab active"><a href="#fourth-unique-name-1">Modules</a></li><li class="tab"><a href="#fourth-unique-name-2">How to solve Problem?</a></li><li class="tab"><a href="#fourth-unique-name-3">Source Code</a></li></ul><div class="tab-content"><div class="tab-pane active" id="fourth-unique-name-1"><p><strong>class</strong> collections.<strong>Counter</strong>([iterable-or-mapping]) <a href="https://docs.python.org/3/library/collections.html#collections.Counter" target="_blank" rel="noopener">¶</a></p>
<p>A Counter is a dict subclass for counting hashable objects. It is a collection where elements are stored as dictionary keys and their counts are stored as dictionary values. Counts are allowed to be any integer value including zero or negative counts. The Counter class is similar to bags or multisets in other languages.</p>
<p>Elements are counted from an iterable or initialized from another mapping (or counter):</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">c = Counter()                           <span class="comment"># a new, empty counter</span></span><br><span class="line">c = Counter(<span class="string">'gallahad'</span>)                 <span class="comment"># a new counter from an iterable</span></span><br><span class="line">c = Counter(&#123;<span class="string">'red'</span>: <span class="number">4</span>, <span class="string">'blue'</span>: <span class="number">2</span>&#125;)      <span class="comment"># a new counter from a mapping</span></span><br><span class="line">c = Counter(cats=<span class="number">4</span>, dogs=<span class="number">8</span>)             <span class="comment"># a new counter from keyword args</span></span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li><p><strong>collections.Counter</strong>: use for make the dicts for word count.</p>
</li>
<li><p><strong>numpy</strong>: To visualize the data on a $log_{10}Y$ axis scale.</p>
</li>
<li><p><strong>os.listdir(path)</strong><br><a href="https://www.geeksforgeeks.org/python-os-listdir-method/" target="_blank" rel="noopener">os.listdir()</a> method in python is used to get the list of all files and directories in the specified directory. If we don’t specify any directory, then list of files and directories in the current working directory will be returned.</p>
</li>
<li><p><strong>re</strong><br>This module provides regular expression matching operations similar to those found in Perl.</p>
<p>Both patterns and strings to be searched can be Unicode strings (str) as well as 8-bit strings (bytes). However, Unicode strings and 8-bit strings cannot be mixed: that is, you cannot match a Unicode string with a byte pattern or vice-versa; similarly, when asking for a substitution, the replacement string must be of the same type as both the pattern and the search string.</p>
<hr>
<blockquote><p><a href="https://docs.python.org/3/library/re.html#re.findall" target="_blank" rel="noopener">re.<strong>findall</strong>(pattern, string, flags=0)</a></p>
<ol>
<li>Return all non-overlapping matches of pattern in string, as a list of strings.</li>
<li>The string is scanned <code>left-to-right</code>, and matches are returned in the order found.</li>
<li>If one or more groups are present in the pattern, return a list of groups;</li>
<li>this will be a list of tuples if the pattern has more than one group. Empty matches are included in the result.</li>
</ol>
</blockquote>

<hr>
</li>
<li><p><strong>os.path</strong><br>os.path module is submodule of OS module in Python used for common pathname manipulation. to get the data’s path, I used the below methods.</p>
<table>
<thead>
<tr>
<th align="left">Method</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>os.path.dirname()</code></td>
<td align="left">To get the python file’s parent file name.</td>
</tr>
<tr>
<td align="left"><code>os.path.join()</code></td>
<td align="left">Combine the file names to make the absolute path.</td>
</tr>
<tr>
<td align="left"><code>os.path.splitext()</code></td>
<td align="left">To split the path name into a pair <em>root</em> and <em>ext</em>(<code>.py</code>).</td>
</tr>
</tbody></table>
<hr>
<p><strong>Example</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> os.path <span class="keyword">import</span> splitext</span><br><span class="line">path = <span class="string">b'https://docs.python.org/2/library/base64.html'</span></span><br><span class="line"></span><br><span class="line">dir_lst = list(splitext(path.decode()))</span><br><span class="line"><span class="comment"># note that splitext() returns tuple</span></span><br><span class="line"></span><br><span class="line">name, ext = dir_lst[<span class="number">0</span>].replace(<span class="string">'/'</span>, <span class="string">' '</span>).split()[<span class="number">-1</span>], dir_lst[<span class="number">-1</span>]</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">name = 'base64'</span></span><br><span class="line"><span class="string">ext = '.html'</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">file_name = name + ext</span><br><span class="line">print(file_name)</span><br><span class="line"><span class="comment"># 'base64.html'</span></span><br></pre></td></tr></table></figure>

<p><strong>All modules</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> log10</span><br><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> listdir</span><br><span class="line"><span class="keyword">from</span> os.path <span class="keyword">import</span> dirname, join, splitext</span><br><span class="line"><span class="keyword">from</span> re <span class="keyword">import</span> findall</span><br><span class="line"></span><br><span class="line"><span class="comment"># For the test</span></span><br><span class="line"><span class="keyword">from</span> timeit <span class="keyword">import</span> Timer</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>

</li>
</ul></div><div class="tab-pane" id="fourth-unique-name-2"><ol>
<li>Prompt input the series name from user (e.g. a###.script, bg###.script)</li>
<li>Get the file list from current file using <code>listdir</code>, then make a list about file names about user input<ul>
<li>If user input <code>a</code>, then need to make a list about <strong>a###.script</strong> files list.</li>
<li>Else, need to make series B’s list.</li>
</ul>
</li>
<li>Get Lexicon sentiment file to my codes</li>
<li>Make a word counter list using series file’s list (using regular expression)</li>
<li>Then, Inner join with lexicon sentiment</li>
<li>After join, calculate the sentiment score using the result No.5.</li>
<li>Display the plot using it.</li>
</ol></div><div class="tab-pane" id="fourth-unique-name-3"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> log10, sum</span><br><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> listdir</span><br><span class="line"><span class="keyword">from</span> os.path <span class="keyword">import</span> dirname, join</span><br><span class="line"><span class="keyword">from</span> re <span class="keyword">import</span> findall</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># Prompt input from user</span></span><br><span class="line">series = input(<span class="string">"Enter the series name: "</span>).lower()</span><br><span class="line">series_name = series + chr(ord(<span class="string">'g'</span>) * (<span class="number">1</span> - (ord(series) &amp; <span class="number">1</span>))).rstrip(<span class="string">'\x00'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get file path</span></span><br><span class="line">dir = dirname(__file__)</span><br><span class="line">path = join(dir, <span class="string">"dataset"</span>, <span class="string">"data_ch2"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get lexicon sentiment</span></span><br><span class="line">lexicon_sentiment = pd.read_csv(join(dir, <span class="string">"dataset"</span>, <span class="string">"data_sent"</span>, <span class="string">"sentiment_lex.csv"</span>))</span><br><span class="line">lexicon_sentiment.columns = [<span class="string">"word"</span>, <span class="string">"score"</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Get filenames on list</span></span><br><span class="line">filenames = [f <span class="keyword">for</span> f <span class="keyword">in</span> listdir(path) <span class="keyword">if</span> series_name == f.split(<span class="string">"1"</span>)[<span class="number">0</span>]]</span><br><span class="line"></span><br><span class="line">data = <span class="string">''</span></span><br><span class="line"><span class="keyword">for</span> fname <span class="keyword">in</span> filenames:</span><br><span class="line">    <span class="keyword">with</span> open(join(path, fname), <span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        data += f.read()</span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">pattern1: lexicon sentiment has '1+2', '1/2', 'r/sfsdf', etc --&gt; '\w+[-|+|/|.]\w+'</span></span><br><span class="line"><span class="string">pattern2: it also has '&lt;URL&gt;'-like format. --&gt; '&lt;\w+&gt;'</span></span><br><span class="line"><span class="string">pattern3: pure alphabet character --&gt; '\w+'</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">combining those patterns --&gt; r'pattern1 | pattern2 | pattern3'</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">data = findall(<span class="string">r'\w+[-|+|/|.]\w+|&lt;\w+&gt;|\w+'</span>, data.lower())</span><br><span class="line">count = Counter(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Convert counter(dicts) to DataFrame</span></span><br><span class="line">cnt_lst = pd.DataFrame.from_dict(count, orient=<span class="string">"index"</span>, ).reset_index()</span><br><span class="line">cnt_lst.columns = [<span class="string">"word"</span>, <span class="string">"count"</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Inner join with lexicon sentiment</span></span><br><span class="line">cnt_lst = cnt_lst.join(lexicon_sentiment.set_index(<span class="string">"word"</span>), on=<span class="string">"word"</span>)</span><br><span class="line">cnt_lst = cnt_lst[cnt_lst[<span class="string">"score"</span>].notna()]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Make new columns for sentiment.</span></span><br><span class="line">sentiment = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> cnt_lst[<span class="string">"score"</span>]:</span><br><span class="line">    <span class="keyword">if</span> x &gt;= <span class="number">-1.0</span> <span class="keyword">and</span> x &lt; <span class="number">-0.6</span>:</span><br><span class="line">        sentiment.append(<span class="string">"Neg"</span>)</span><br><span class="line">    <span class="keyword">elif</span> x &gt;= <span class="number">-0.6</span> <span class="keyword">and</span> x &lt; <span class="number">-0.2</span>:</span><br><span class="line">        sentiment.append(<span class="string">"W.Neg"</span>)</span><br><span class="line">    <span class="keyword">elif</span> x &gt;= <span class="number">-0.2</span> <span class="keyword">and</span> x &lt;= <span class="number">0.2</span>:</span><br><span class="line">        sentiment.append(<span class="string">"Neu"</span>)</span><br><span class="line">    <span class="keyword">elif</span> x &gt; <span class="number">0.2</span> <span class="keyword">and</span> x &lt;= <span class="number">0.6</span>:</span><br><span class="line">        sentiment.append(<span class="string">"W.Pos"</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        sentiment.append(<span class="string">"Pos"</span>)</span><br><span class="line"></span><br><span class="line">cnt_lst[<span class="string">"sentiment"</span>] = sentiment</span><br><span class="line">cnt_lst = cnt_lst.groupby(cnt_lst[<span class="string">"sentiment"</span>], as_index=<span class="literal">True</span>).agg(&#123;<span class="string">"count"</span>: <span class="string">"sum"</span>&#125;).agg(&#123;<span class="string">"count"</span>: <span class="string">"log10"</span>&#125;)</span><br><span class="line">cnt_lst = cnt_lst.reindex(index=[<span class="string">"Neg"</span>, <span class="string">"W.Neg"</span>, <span class="string">"Neu"</span>, <span class="string">"W.Pos"</span>, <span class="string">"Pos"</span>])</span><br><span class="line">print(cnt_lst)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Display the plot</span></span><br><span class="line">plt.title(<span class="string">"Sentiment Analysis for Series "</span> + series.upper())</span><br><span class="line">plt.xlabel(<span class="string">"Sentiment"</span>)</span><br><span class="line">plt.ylabel(<span class="string">"log Word Count"</span>)</span><br><span class="line">plt.bar(cnt_lst.index, cnt_lst[<span class="string">"count"</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></div></div></div>
</div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script>
    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/CSCI-343/" rel="tag"><i class="fa fa-tag"></i> CSCI 343</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/02/24/2020-02-24-NexT-Theme-test/" rel="prev" title="NexT Theme Plugin">
      <i class="fa fa-chevron-left"></i> NexT Theme Plugin
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/03/02/2020-03-02-codeblock-test/" rel="next" title="Hexo Codeblock Test">
      Hexo Codeblock Test <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          목차
        </li>
        <li class="sidebar-nav-overview">
          프로필
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Objective"><span class="nav-number">1.</span> <span class="nav-text">Objective</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Assignment"><span class="nav-number">2.</span> <span class="nav-text">Assignment</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DATA"><span class="nav-number">2.1.</span> <span class="nav-text">DATA</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Summary-amp-Tip"><span class="nav-number">2.2.</span> <span class="nav-text">Summary &amp; Tip</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NOTE"><span class="nav-number">2.3.</span> <span class="nav-text">NOTE</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Solutions"><span class="nav-number">3.</span> <span class="nav-text">Solutions</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="LSH"
      src="/img/avatar.png">
  <p class="site-author-name" itemprop="name">LSH</p>
  <div class="site-description" itemprop="description">Github + 뻘글 블로그.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">31</span>
          <span class="site-state-item-name">포스트</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">카테고리</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">태그</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/sokhyg9016" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;sokhyg9016" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:sokhyg9016@gmail.com" title="E-Mail → mailto:sokhyg9016@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/users/10584779/%ec%9d%b4%ec%8a%b9%ed%9b%88" title="StackOverflow → https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;10584779&#x2F;%ec%9d%b4%ec%8a%b9%ed%9b%88" rel="noopener" target="_blank"><i class="fa fa-fw fa-stack-overflow"></i>StackOverflow</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.youtube.com/channel/UC9bPZO7K_0a6Eh_nbcjD68A?view_as=subscriber" title="YouTube → https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UC9bPZO7K_0a6Eh_nbcjD68A?view_as&#x3D;subscriber" rel="noopener" target="_blank"><i class="fa fa-fw fa-youtube"></i>YouTube</a>
      </span>
  </div>



      </div>

      <!--<header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Git Page</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">AI · Data Structure · Algorithm · Game Development</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>홈</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>태그</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>카테고리</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>아카이브</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>검색
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
      </header>-->

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">LSH</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.7.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>









<script>
if (document.querySelectorAll('div.pdf').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/pdfobject@2/pdfobject.min.js', () => {
    document.querySelectorAll('div.pdf').forEach(element => {
      PDFObject.embed(element.getAttribute('target'), element, {
        pdfOpenParams: {
          navpanes: 0,
          toolbar: 0,
          statusbar: 0,
          pagemode: 'thumbs',
          view: 'FitH'
        },
        PDFJS_URL: '/lib/pdf/web/viewer.html',
        height: element.getAttribute('height') || '500px'
      });
    });
  }, window.PDFObject);
}
</script>


<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme: 'forest',
      logLevel: 3,
      flowchart: { curve: 'linear' },
      gantt: { axisFormat: '%m/%d/%Y' },
      sequence: { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    

  

</body>
</html>

<!-- Background Animation -->
<!-- <script type="text/javascript" src="/js/src/particle.js"></script> -->
<script type="text/javascript" src="/js/src/header-scroll.js"></script>